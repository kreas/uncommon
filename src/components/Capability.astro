---
import CTABar from './CTABar.astro'
import FAQSection from './FAQSection.astro'

const { title, headline, readTime, publishDate, audio, backgroundImage } = Astro.props
---

<div
  class="max-w-[1400px] md:mx-auto flex flex-col flex-col-reverse md:flex-row-reverse gap-4 md:gap-12 relative md:mt-8"
>
  <div class="md:w-3/4 mt-4 md:mt-0">
    <section class="prose flex-1 max-w-full text-sm md:text-base">
      <h1 class="leading-[130%] text-2xl md:text-4xl md:leading-[130%]">{headline}</h1>

      <div class="flex flex-col justify-between border-y border-base-content py-4 mb-4 md:mb-12">
        <span><strong class="text-sm">READ TIME:</strong>&nbsp;{readTime}</span>
        <span><strong class="text-sm">LAST UPDATED:</strong>&nbsp;{publishDate}</span>
      </div>

      <slot />
    </section>
    <slot name="faqs" />
  </div>
  <div
    class="rounded-full md:rounded-xl bg-[url('/images/background/bg-square-01.png')] bg-cover bg-top-[30px] md:w-[500px] md:h-[300px] md:min-w-400 p-6 sticky top-[10px] md:top-[20px] justify-between flex flex-col gap-4"
    style={`background-image: url('${backgroundImage}')`}
  >
    <div class="hidden">
      <span class="text-white text-2xl md:text-3xl font-bold text-shadow-xl leading-[130%] text-opacity-80">
        {title}
      </span>
    </div>
    <audio controls class="w-full bg-opacity-40">
      <source src={audio} type="audio/mpeg" />
       Your browser does not support the audio element.
    </audio>
  </div>
</div>
<CTABar />
